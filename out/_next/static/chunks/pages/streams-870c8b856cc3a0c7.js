(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[338],{8674:function(e,r,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/streams",function(){return t(288)}])},792:function(e,r,t){"use strict";var i=t(5893),n=t(6886);let s=e=>{let{title:r,subtitle:t}=e;return(0,i.jsxs)(n.ZP,{item:!0,xs:12,children:[r,t||null]})};r.Z=s},288:function(e,r,t){"use strict";t.r(r),t.d(r,{default:function(){return y}});var i=t(5893),n=t(7294);t(1664);var s=t(6886),l=t(3795),a=t(5861),o=t(792),d=t(6242),c=t(8445),u=t(3998),x=t(2224),h=t(1609),m=t(2867),f=t(6501),w=t(381),v=t.n(w),j=t(1163);let p=e=>{let r=r=>{let{id:t,status:n}=r;(0,j.useRouter)();let s=()=>{(0,m.uR)(t).then(r=>{r.error?f.ZP.error("Error while ending stream with id: ".concat(t),{position:"bottom-right"}):(e.setIsStreamChange(!0),f.ZP.success("Sucessfully ended stream with id: ".concat(t),{position:"bottom-right"}))})};return(0,i.jsx)(i.Fragment,{children:"ended"!==n?(0,i.jsxs)(x.Z,{onClick:s,sx:{"& svg":{mr:2}},children:[(0,i.jsx)(h.Z,{icon:"tabler:user-off",fontSize:20}),"End"]}):(0,i.jsx)(i.Fragment,{})})};return(0,i.jsxs)(d.Z,{children:[(0,i.jsx)(c.Z,{title:"All Streams"}),(0,i.jsx)(u._,{autoHeight:!0,rows:e.row||[],columns:[{flex:.04,minWidth:50,headerName:"# id",field:"id",valueGetter:e=>e.row.id,renderCell:e=>(0,i.jsx)(a.Z,{variant:"body2",sx:{color:"text.primary"},children:e.row.id})},{flex:.08,minWidth:80,headerName:"Name",field:"Name",valueGetter:e=>e.row.name,renderCell:e=>(0,i.jsx)(a.Z,{variant:"body2",sx:{color:"text.primary"},children:e.row.name})},{flex:.15,minWidth:120,headerName:"Description",field:"Description",valueGetter:e=>e.row.description,renderCell:e=>(0,i.jsx)(a.Z,{variant:"body2",sx:{color:"text.primary"},children:e.row.description})},{flex:.15,minWidth:110,field:"Live-id",valueGetter:e=>e.row.liveId,renderCell:e=>(0,i.jsx)(a.Z,{variant:"body2",sx:{color:"text.primary"},children:e.row.liveId})},{flex:.05,minWidth:110,field:"Status",valueGetter:e=>e.row.status,renderCell:e=>(0,i.jsx)(a.Z,{variant:"body2",sx:{color:"text.primary"},children:e.row.status.toUpperCase()})},{flex:.08,minWidth:110,field:"user",valueGetter:e=>e.row.user.user_name,renderCell:e=>(0,i.jsx)(a.Z,{variant:"body2",sx:{color:"text.primary"},children:e.row.user.user_name})},{flex:.08,minWidth:110,field:"Started on",valueGetter:e=>e.row.createdAt,renderCell:e=>(0,i.jsx)(a.Z,{variant:"body2",sx:{color:"text.primary"},children:v()(e.row.createdAt).fromNow()})},{flex:.125,minWidth:140,field:"actions",headerName:"Actions",renderCell:e=>(0,i.jsx)(r,{id:e.row.id,status:e.row.status})}],disableSelectionOnClick:!0,getRowId:e=>e.id})]})};var Z=t(7288);let b=()=>{let[e,r]=(0,n.useState)([]),[t,d]=(0,n.useState)(!1),{getAuthToken:c}=(0,Z.a)();return(0,n.useEffect)(()=>{(0,m.Ae)().then(e=>{e.error||r(e)})},[]),(0,n.useEffect)(()=>{t&&(d(!1),(0,m.Ae)().then(e=>{e.error||r(e)}))},[t]),(0,i.jsxs)(s.ZP,{container:!0,spacing:6,children:[(0,i.jsx)(o.Z,{title:(0,i.jsx)(a.Z,{variant:"h5",children:(0,i.jsx)(l.Z,{children:"Streams"})}),subtitle:(0,i.jsx)(a.Z,{variant:"body2",children:"This page shows all the Streams."})}),(0,i.jsx)(s.ZP,{item:!0,xs:12,children:(0,i.jsx)(p,{row:e,allAbusers:[],setIsStreamChange:d})})]})};var y=b}},function(e){e.O(0,[885,147,135,998,774,888,179],function(){return e(e.s=8674)}),_N_E=e.O()}]);